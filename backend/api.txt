// 1. Create single chat
var axios = require('axios');
var data = JSON.stringify({
  "members": "[\"63fcd3b9a27243219744c5a2\", \"63fc59e4766ff678e2ce62fb\"]"
});

var config = {
  method: 'post',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM', 
    'Content-Type': 'application/json'
  },
  data : data
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});



// 2. Fetch all user related chat
var axios = require('axios');
var data = JSON.stringify({
  "members": "[\"63fcd3b9a27243219744c5a2\", \"63fc59e4766ff678e2ce62fb\"]"
});

var config = {
  method: 'get',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM', 
    'Content-Type': 'application/json'
  },
  data : data
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});


// 11. fetch particular single chat
var axios = require('axios');

var config = {
  method: 'get',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat/single/640edce5dcf06136b5385073',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM'
  }
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});


// 3. Create group chat
var axios = require('axios');
var data = JSON.stringify({
  "name": "Group One",
  "members": "[\"63fcd3b9a27243219744c5a2\", \"63fc59e4766ff678e2ce62fb\", \"6407550dd8094f5578033168\"]"
});

var config = {
  method: 'post',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat/group',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM', 
    'Content-Type': 'application/json'
  },
  data : data
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});



// 4. Update group chat profile Pic
var myHeaders = new Headers();
myHeaders.append("x-access-token", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM");

var formdata = new FormData();
formdata.append("image", fileInput.files[0], "/C:/Users/Avijit/Downloads/download (1) (1).jfif");

var requestOptions = {
  method: 'PUT',
  headers: myHeaders,
  body: formdata,
  redirect: 'follow'
};

fetch("http://localhost:5001/api/chat/group/image/6410036ebff94d035037f0be", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));




// 6. Group name update
var axios = require('axios');
var data = JSON.stringify({
  "name": "NEW Group One"
});

var config = {
  method: 'put',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat/group/name/6410036ebff94d035037f0be',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM', 
    'Content-Type': 'application/json'
  },
  data : data
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});


// 7. add group members
var axios = require('axios');
var data = JSON.stringify({
  "userId": "6407550dd8094f5578033168"
});

var config = {
  method: 'put',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat/group/add/members/6410036ebff94d035037f0be',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM', 
    'Content-Type': 'application/json'
  },
  data : data
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});




// 8. add to mod
var axios = require('axios');
var data = JSON.stringify({
  "userId": "6407550dd8094f5578033168"
});

var config = {
  method: 'put',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat/group/add/mod/6410036ebff94d035037f0be',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM', 
    'Content-Type': 'application/json'
  },
  data : data
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});


// 9. Delete group chat
var axios = require('axios');
var data = JSON.stringify({
  "userId": "6407550dd8094f5578033168"
});

var config = {
  method: 'delete',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat/6410036ebff94d035037f0be',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM', 
    'Content-Type': 'application/json'
  },
  data : data
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});



// 10. Bookmark group
var axios = require('axios');
var data = JSON.stringify({
  "userId": "6407550dd8094f5578033168"
});

var config = {
  method: 'put',
maxBodyLength: Infinity,
  url: 'http://localhost:5001/api/chat/group/bookmark/6410036ebff94d035037f0be',
  headers: { 
    'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2ZjNTllNDc2NmZmNjc4ZTJjZTYyZmIiLCJlbWFpbCI6ImF2aWppdEB0ZXN0LmNvbSIsInVzZXJuYW1lIjoiYWNjb3VudF8xNCIsImlhdCI6MTY3ODY4Mjk0NiwiZXhwIjoxNjc4OTQyMTQ2fQ.HuQZ4ceVFomLa6NKr4-DysMEVJ1RK9UbMsH2modQfJM', 
    'Content-Type': 'application/json'
  },
  data : data
};

axios(config)
.then(function (response) {
  console.log(JSON.stringify(response.data));
})
.catch(function (error) {
  console.log(error);
});


// 12. Block chat by user (** PENDING **)
// 6. Update group chat privacy (** PENDING **)